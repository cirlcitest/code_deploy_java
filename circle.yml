machine:
  pre:
  - date
  - pwd
  java:
    version: oraclejdk8
  environment:
    propfilepath: /home/ubuntu/test

#dependencies:
  # override:
    # -mvn clean install
    
de1pendencies:
  pre:
     -mkdir -r assets/cache
  cache_directories:
      - "assets/cache"    # relative to the build directory
   

test:

 pre: 
 - echo $CIRCLE_USERNAME
 - echo $CIRCLE_REPOSITORY_URL
 - echo $CIRCLE_BRANCH
 - echo $CIRCLE_TEST_REPORTS
 - pwd
 - ls -l /home/ubuntu/test
 override:
    #- mvn clean install -Dpropfilepath="/home/ubuntu/test" it is hardcoding...
    - mvn clean install -Dpropfilepath=$pwd
    
 post:
    - mkdir -p $CIRCLE_TEST_REPORTS/junit/
    - find . -type f -regex ".*/target/surefire-reports/.*xml" -exec cp {} $CIRCLE_TEST_REPORTS/junit/ \;

 
 